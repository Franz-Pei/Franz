package com.dxfx.pro.basic.service;

import org.springframework.stereotype.Service;

import com.alibaba.fastjson2.JSONObject;
import com.dxfx.client.annotation.RemoteInvoke;
import com.dxfx.user.model.User;
import com.dxfx.user.remote.UserRemote;

@Service
public class BasicService {

    @RemoteInvoke
    private UserRemote userRemote;


    public void testSaveUser() {
        User u = new User();
        u.setId(1);
        u.setName("张三");

        // 如果userRemote为null，说明注入还没完成，这是正常的
        if (userRemote != null) {
            Object response = userRemote.saveUser(u);
            System.out.println(JSONObject.toJSONString(response));
            System.out.println("保存用户结果: " + response.getMeg()); // 使用getMeg()
        } else {
            System.out.println("UserRemote注入为null，需要配置代理");
        }
        
    }

}
