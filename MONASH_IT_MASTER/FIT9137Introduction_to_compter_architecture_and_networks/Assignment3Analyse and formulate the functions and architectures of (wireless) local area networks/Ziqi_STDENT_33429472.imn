node n1 {
    type router
    model static
    network-config {
	hostname R1
	!
	interface eth3
	 ip address 116.181.188.1/24
	!
	interface eth2
	 ip address 116.181.152.1/24
	!
	interface eth1
	 ip address 116.181.154.1/24
	!
	interface eth0
	 ip address 116.181.216.1/24
	!
    }
    canvas c1
    iconcoords {796.6666666666666 331.3333333333333}
    labelcoords {796.6666666666666 363.3333333333333}
    interface-peer {eth0 n14}
    interface-peer {eth1 n3}
    interface-peer {eth2 n4}
    interface-peer {eth3 n2}
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 116.181.216.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.154.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.152.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.188.1
	ip route add 116.181.32.0/24 via 116.181.152.2
	ip route add 116.181.230.0/24 via 116.181.188.2
	ip route add default via 116.181.154.2
	}
    }
    custom-config {
	custom-config-id service:DHCP
	custom-command DHCP
	config {
	files=('/etc/dhcp/dhcpd.conf', )
	}
    }
    custom-config {
	custom-config-id service:DHCP:/etc/dhcp/dhcpd.conf
	custom-command /etc/dhcp/dhcpd.conf
	config {
	log-facility local6;
	
	default-lease-time 36000;
	max-lease-time 72000;
	
	ddns-update-style none;
	
	subnet 116.181.216.0 netmask 255.255.255.0 {
	  pool {
	    range 116.181.216.127 116.181.216.254;
	    default-lease-time 36000;
	    option routers 116.181.216.1;
	    option domain-name-servers 116.181.198.10;
	    option domain-name "talos.edu";
	  }
	}
	
	
	}
    }
    services {IPForward StaticRoute DHCP}
}

node n2 {
    type router
    model static
    network-config {
	hostname R2
	!
	interface eth3
	 ip address 116.181.188.2/24
	!
	interface eth2
	 ip address 116.181.45.2/24
	!
	interface eth1
	 ip address 116.181.109.2/24
	!
	interface eth0
	 ip address 116.181.230.1/24
	!
    }
    canvas c1
    iconcoords {799.0 539.6666666666666}
    labelcoords {799.0 571.6666666666666}
    interface-peer {eth0 n16}
    interface-peer {eth1 n3}
    interface-peer {eth2 n4}
    interface-peer {eth3 n1}
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 116.181.230.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.109.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.45.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.188.1
	ip route add 116.181.32.0/24 via 116.181.45.1
	ip route add 116.181.216.0/24 via 116.181.188.1
	ip route add default via 116.181.109.1
	
	
	}
    }
    services {IPForward StaticRoute}
}

node n3 {
    type router
    model static
    network-config {
	hostname R3
	!
	interface eth3
	 ip address 99.229.193.1/24
	!
	interface eth2
	 ip address 116.181.109.1/24
	!
	interface eth1
	 ip address 116.181.154.2/24
	!
	interface eth0
	 ip address 116.181.198.1/24
	!
    }
    canvas c1
    iconcoords {658.0 448.6666666666667}
    labelcoords {658.0 480.6666666666667}
    interface-peer {eth0 n17}
    interface-peer {eth1 n1}
    interface-peer {eth2 n2}
    interface-peer {eth3 n8}
    custom-config {
	custom-config-id service:Firewall
	custom-command Firewall
	config {
	files=('firewall.sh', )
	}
    }
    custom-config {
	custom-config-id service:Firewall:firewall.sh
	custom-command firewall.sh
	config {
	#!/bin/bash
	# Place the firewal settings here using iptables commands
	# This is a shell script and hash character makes the rest of the lin 
	# as comment
	
	#rules for DNS server from external to DMZ
	
	iptables -A FORWARD -i eth3 -o eth0 -p udp --dport 53 -d 116.181.198.10 -j ACCEPT
	iptables -A FORWARD -i eth0 -o eth3 -p udp --sport 53 -s 116.181.198.10 -j ACCEPT
	
	#rules for DNS server form DMZ to external
	
	iptables -A FORWARD -i eth0 -o eth3 -p udp --dport 53 -s 116.181.198.10 -m state --state NEW -j ACCEPT
	iptables -A FORWARD -i eth3 -o eth0 -p udp --sport 53 -d 116.181.198.10 -m state --state ESTABLISHED,RELATED  -j ACCEPT
	
	#rules for web server from external to DMZ
	
	iptables -A FORWARD -i eth3 -o eth0 -p tcp --dport 80 -d 116.181.198.11 -j ACCEPT
	iptables -A FORWARD -i eth0 -o eth3 -p tcp --sport 80 -s 116.181.198.11 -j ACCEPT
	
	#rules for mail server from external to DMZ
	
	iptables -A FORWARD -i eth3 -o eth0 -p tcp --dport 25 -d 116.181.198.12 -j ACCEPT
	iptables -A FORWARD -i eth0 -o eth3 -p tcp --sport 25 -s 116.181.198.12 -j ACCEPT
	
	# rules for mail server from DMZ to external
	
	iptables -A FORWARD -i eth0 -o eth3 -p tcp --dport 25 -s 116.181.198.12 -m state --state NEW,ESTABLISHED -j ACCEPT
	iptables -A FORWARD -i eth3 -o eth0 -p tcp --sport 25 -d 116.181.198.12 -m state --state ESTABLISHED,RELATED -j ACCEPT
	
	#rules for internal to DMZ
	iptables -A FORWARD -s 116.181.0.0/16 -d 116.181.198.0/24 -j ACCEPT
	iptables -A FORWARD -d 116.181.0.0/16 -s 116.181.198.0/24 -j ACCEPT
	
	#internal to internal
	intables -A FORWARD -i eth1 -o eth2 -j ACCEPT
	intables -A FORWARD -i eth2 -o eth1 -j ACCEPT
	
	#internal to external
	
	iptables -A FORWARD -i eth1 -o eth3 -j ACCEPT
	iptables -A FORWARD -i eth2 -o eth3 -j ACCEPT
	
	iptables -A FORWARD -i eth3 -o eth1 -m state --state ESTABLISHED,RELATED -j ACCEPT
	iptables -A FORWARD -i eth3 -o eth2 -m state --state ESTABLISHED,RELATED -j ACCEPT
	
	#client to R3
	iptables -A INPUT -s 116.181.216.0/24 -p tcp --dport 22 -j ACCEPT
	iptables -A OUTPUT -d 116.181.216.0/24 -p tcp --sport 22 -j ACCEPT
	
	#R3 ICMP message
	
	iptables -A OUTPUT -d 116.181.0.0/16 -p icmp --icmp-type echo-request -j ACCEPT
	iptables -A INPUT -s 116.181.0.0/16 -p icmp --icmp-type echo-reply -j ACCEPT
	
	iptables -A INPUT -s 116.181.0.0/16 -p icmp --icmp-type echo-request -j ACCEPT
	iptables -A OUTPUT -d 116.181.0.0/16 -p icmp --icmp-type echo-reply -j ACCEPT
	
	
	#Default rules
	
	iptables -P FORWARD DROP
	iptables -P INPUT DROP
	iptables -P OUTPUT DROP
	}
    }
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 116.181.198.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.154.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.109.1
	#/sbin/ip route add 10.9.8.0/24 via 99.229.193.1
	ip route add 116.181.230.0/24 via 116.181.109.2
	ip route add 116.181.32.0/24 via 116.181.109.2
	ip route add 116.181.216.0/24 via 116.181.154.1
	ip route add default via 99.229.193.2
	
	}
    }
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEowIBAAKCAQEA1NePdncQ4a4Q2FCeU8iWLY/aRfKtnE0V7SLsuLZj8so52zSJ
	xTLkZs3h7wAUNClUyYFiW1elqIkjRsGMATX1VXTbxnXAzfRdTGoM99QzmW63fnWL
	2qHZ4xNDa9jzJdE1CN4crIrDFg2gECZoHoyBLep1fn3cF1bcZaYJcEMF8TRMAKsc
	9o7QN6++/ivKtzfYLV31LbP7E8dYtHBcmQZnB/xb0nKZ3Jtyo2kkbp3S9vO6oNaP
	tVLoJ86FKDq9hStDHsZy7+sGWArCeDsb9VGRLw0ArO4iz72x/IjXYYt9hS05vfdA
	SMEICs6yOl3+/djrIb7wO6odEQA5pbCTOf2mwQIDAQABAoIBAAKDgTg+874WljBX
	02bd6ZgkKMnGsfI0ntusG+uai9ekN8a0+iOQFE56g/6Um6h6DHxMwOKfSF+TLw14
	37Rr9LfLp4TSgzJrfmaWogyTPwDC4/vkW4B7hN0/rv4pE8YQkHXIWcJX6THre0Z1
	jak+s4/dQwH5bo4AAp5YtafTwtA0bmTiQNlQcNKuJ7sgToyvRtOyzNpUBAspo2dw
	PUqqGo9VlcHGV1ZEgOjmmW4y2CLLNyfcd/oZOrkb3LvGqJ1U1YTY8lR/8gM/LJkl
	VmZuU4DgsyhTQhId+JlA+lrt0RZ6ti/skgAHoomt4ltu8/pbqDmUQicKtcQLR0Q7
	CpwucfkCgYEA8kdUjsZlbYI1Ia0b2+s6MBQXcnkTW7M/AaMO/Hb64s1CsP+8U2Gv
	KASyRvAOl/hpA0rvAs8NcWlAVG9sIEJ3EuoEAAe6SOMLjZlwykNLJhKztiVdAKuC
	OuSfi1K/81KTJTgKAZAvD9grzatHCmTqmc+XNdN9+xr4qlVw0mpNY1sCgYEA4OVx
	w+mdw5QUm5HgaYH14VOcUrRXEr/kwzKSvxb/3bezWlT+rCZNzcsydLayLeJP3AX8
	xZnMzKCYKjoAGPbQWfxg0a813NCNeuIeesjv8vs05aSJEHzb+QDmHnH2iB2AD66w
	aYUYEOZso0vYTsoApZV327aa/1BPOs3U+UuzhRMCgYBA+5TYfqoxxxzNHYs9X0hK
	IPlxALyKefdKTxvz502/i2J56v3uN2MtjqTqlfS0GjLAaVbWIAbxBlP00bXkqS8a
	6Z2NDIWQiyVMI323InmDiryc/ESHq3jQpwWL7vQBJYLGFtPIO44D5+1HysrRJOQv
	wRhDnahKs59CwIv0RALhxQKBgQCw/qKsZx3MoKwfS41sO+XBMkZjKJ8mmHN31EN9
	tKImYr76ps3Puk2dWwAYrvhH+EaViPjIoyR1HybihMcy3nxXdbLVE6m2YUQXpAIM
	7Ds75cxZt0ZP/ZQ5wiVZbKNzuJPiw77/LMol8tMpKTXRvFUJ/DpaZrpRmWjhhMDK
	enOMlQKBgHS9uKAd3Ol9/gxMDrQUCFQhBNE1J4ccAHhCLkyPPO2RwwrVQytj2fyV
	W4MYGB8Jextl389cYeQHHxq2lHWk6gHcL+a5RdQl+SOlZ4UgnCJsfkHrXM9G/ITi
	mBvXzH26u2+JzDYf64gKbrZV0Ky4TEIcfG1X5Z7mnESURODVW8E3
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	chmod 655 /var/run/sshd
	chmod 400 /etc/ssh/ssh_host_rsa_key
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    services {IPForward StaticRoute SSH Firewall}
}

node n4 {
    type router
    model static
    network-config {
	hostname R4
	!
	interface eth2
	 ip address 116.181.152.2/24
	!
	interface eth1
	 ip address 116.181.45.1/24
	!
	interface eth0
	 ip address 116.181.32.1/24
	!
    }
    canvas c1
    iconcoords {984.0 432.0}
    labelcoords {984.0 464.0}
    interface-peer {eth0 n15}
    interface-peer {eth1 n2}
    interface-peer {eth2 n1}
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 116.181.32.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.45.1
	#/sbin/ip route add 10.9.8.0/24 via 116.181.152.1
	ip route add 116.181.216.0/24 via 116.181.152.1
	ip route add 116.181.230.0/24 via 116.181.45.2
	ip route add default via 116.181.45.2
	
	}
    }
    services {IPForward StaticRoute}
}

node n5 {
    type router
    model host
    network-config {
	hostname dns
	!
	interface eth0
	 ip address 116.181.198.10/24
	!
    }
    canvas c1
    iconcoords {445.0 681.0}
    labelcoords {445.0 713.0}
    interface-peer {eth0 n17}
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEpQIBAAKCAQEA0WPysYKUEeAaRFyeaRUVGmwCJuKZgUDGBAvy+k28FuC7CloT
	UEZfRHdHVXkdauxQvNzb2kPY67SNudb+H5LgUBGuNSCimf6VU4ozpRPvIvnSdL4x
	GuKn1KoyFEBq2pOK82LcvwSdJgYLVY1+0gbXuAWr3NCZo5C1Y08US84h7OZICG/W
	Y92P+qvGXl0S0+lrZL0wtng4c1giKcj0QKOyKkpmyXSsjFTcw5yF+xBcOhE6MoMZ
	K1XeDgF33xfk4ew+UvfKX2FLbpw2h2+DDLpd5New7L/isVGm1cv+0j9BFbR1jezg
	mjwmcoCpYmHparhfjT3Eqky9u3Z4RkYHK741JwIDAQABAoIBAFWbUVv1kOgGAXc1
	jqZTsj8NLYwMVModW1fIMtzW7zFDS/UdgovtWYG6anWtgLN4TkII4fHIj2U+ejsi
	hN8Pw5m4wMqDvzbKeO6gsCCrl7dq//ou0BC33fn6Y2MYOxeF/ucm4i1Oi5lCG1ws
	706a8ZMQ7oTm3AmdXitt51RewEwD1IELy1WoNBke0B5y4QZQdou39Gc7b3mqRpA5
	zTmRKszp2//x3rPagoIJzTCjGYJXxnkAjoy7x0j00kcT44d1BGjvRj/STuIfOoSh
	HVbkSoLEKJOu2zH7YFvJAShJzrED3Sk+Fq7U4kvSn2QxjDdyl5/y63/Qi74EqtCj
	WadvbDECgYEA9gqQTH5+flP5vJsmPtweAD19P4VA2k9A/jAxXI2waH4LBtYwCzw6
	yAbKXO++VtEaJTnATCeTJSYwdwhzc7jYaTfgeGSjzLtp4pr4+YFxPii9np3arhsl
	jJicePZN249Qi6AuwN2E+V0QE0mY2aDWKqPB9JOVnSnhkcdrhYR7VjMCgYEA2d2d
	YWjmvlMHU+ldZP3z2C+nINaQ3cvKjOpb5u4Rr7GXef9Ts2R10ZWMq03uRaPOz931
	68lcc7mNmEuf42r/WWCJC1Lr+tOL8Rg03FyCzMYIMSa3DKQsbJFKEzaft2XrURYW
	ou3ZKOlKL2rsyodqZ1W6wyoIqyPWDaMLQAbBqT0CgYEA6MzSAC7oDSvz7ut2Yp/v
	mxaTPdkdpfK7ckezTPmb4yLv2AYt61OP4tfZ/dmyZX7wmCxusR/48HuT++z5IJPT
	4KrIL+I5wmvKImm0DpDVz5TI5h5CXd69xqxX0XRr8sVF1vc3hbGUMkZGAZnvkGvI
	eQv9ZyeFtvF7x23DZNAXy1UCgYEA0dxY0lEzG5htEZZUoYjCj7dvXQFycEPzK4RA
	3JTssnn2OM0LOl2F5EoTQ5wA7lIZUEA1uFex18OgMlh+fpk9uUF1IVRR/b4zKh0w
	Jihy0n/bukTZxLKMHFRjr1hJx2bEosoNKgrEyVTXYg+0Ym7IvxtkmMRvrzMI6P/q
	QVWAzN0CgYEA7Crr3GQZBQ/v7FOJFWwfgCTLRmNaLQFcTwiOuXH7hH81/8TTOoc5
	SffdJAKG1AuWkCpOJSpa7OZGQW65T0bp+MYpDLDLFwSJo8HZudMdbpLgujKI/bR9
	mi/drWxxDW0KoIdbsU/MNGDsn9JHRavm4J17GkVCHafNzgMl8JpaCqI=
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	# auto-generated by SSH service (utility.py)
	chmod 400 /etc/ssh/ssh_host_rsa_key
	chmod 655 /var/run/sshd
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:bind9
	custom-command bind9
	config {
	files=('bind.sh', '/etc/bind.d/named.conf', '/etc/bind.d/named.conf.options', '/etc/bind.d/named.conf.local', '/etc/bind.d/named.conf.default-zones', '/etc/bind.d/db.talos.edu', )
	cmddown=('service bind9 stop', )
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/db.talos.edu
	custom-command /etc/bind.d/db.talos.edu
	config {
	$TTL    604800
	@   IN  SOA ns.talos.edu. root.talos.edu. (
	                  2     ; Serial
	             604800     ; Refresh
	              86400     ; Retry
	            2419200     ; Expire
	             604800 )   ; Negative Cache TTL
	;
	@	IN	NS	ns.talos.edu.
	ns	IN	A	116.181.198.10	 
	www	IN	A	116.181.198.11
	1w	IN	MX	1	mail.talos.edu.
	mail	IN	A	116.181.198.12
	intranet	IN	A	116.181.230.10
	ssh	IN	A	116.181.32.10
	localweb	IN	A	116.181.216.10	
	creator	IN	TXT	"Sepehr Minagar"	          
	
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.local
	custom-command /etc/bind.d/named.conf.local
	config {
	zone "talos.edu" {
		type master;
		file "/etc/bind.d/db.talos.edu";
		allow-transfer { 107.234.229.10; };
	};
	
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.options
	custom-command /etc/bind.d/named.conf.options
	config {
	// Example named.conf.options file
	
	options {
	    directory "/var/cache/bind";
	
	    // If there is a firewall between you and nameservers you want
	    // to talk to, you may need to fix the firewall to allow multiple
	    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113
	
	    // If your ISP provided one or more IP addresses for stable 
	    // nameservers, you probably want to use them as forwarders.  
	    // Uncomment the following block, and insert the addresses replacing 
	    // the all-0's placeholder.
	
	    forwarders {
	      107.234.229.10;
	     };
	
	    //========================================================================
	    // If BIND logs error messages about the root key being expired,
	    // you will need to update your keys.  See https://www.isc.org/bind-keys
	    //========================================================================
	    dnssec-validation no;
	    allow-query { any; };
	    auth-nxdomain no;    # conform to RFC1035
	    listen-on { any; };
	    recursion yes;
	};
	
	            
	}
    }
    services {DefaultRoute SSH bind9}
}

node n6 {
    type router
    model host
    network-config {
	hostname web
	!
	interface eth0
	 ip address 116.181.198.11/24
	!
    }
    canvas c1
    iconcoords {560.0 716.0}
    labelcoords {560.0 748.0}
    interface-peer {eth0 n17}
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEowIBAAKCAQEAly3RdNEaQpAaKOPMkWLPq9eZWR9U1V0lxKsA5RvCmoEm98X9
	s3098KfTW/lHjhj2M1of+gy2oePUZ5MPF6rPShOTkj0IU9wz6s6vZhyFymrotr04
	GCjxSquWCjlNwPx/45xNpJS3lvTRqdBIrx2TmHhmEg9gXx/4+mt7HNd1Dbc1DKbl
	xCkNlZJShYHGq+sV+r7PL/o79dcXeZ7PNT6qSv/cYipqR//ShzINZpOPEBRSllvZ
	BECfRMpFRkmcHj0NCeOYXH5CMLOG4aMjWsSvHbBg/alzVNSd+BuF79aX0rlYzbpY
	g40j3B5+H5MFxcmCqnay2YSpxoGudtJwNdwftQIDAQABAoIBAGyn6rY6H9Sde5/N
	8lbAHSCWKcpLYY6kjyOmAFOquxiPIPHOZMSfjGguRxQAu3Qe7r0D1p3Ci3UZqazz
	nlJVWv0Tyum9YgHb75ihCqGqeGJ+qlnE7881hg8z+ffJLeA52rU9vvQ+SyF9Pj/9
	ym/KIy3fwwTR9mMIOMvLekXFeYTsALG8hBT7I7wPxYoRXPI7VGnLjq7OmiuIxRZY
	gWGjeuC4CO9rSb+IDo8na72TOiXE0FsuMRPqNKS0Pb1kT3WAd+LEcmP2aa+o6Cjl
	IyoezHH+Q7gNBuN/BN4fu+Snm6PFy1xCZ4j9zkbtHjUQRrL0THCgQYoBjIWGgZ8P
	KNAHoOECgYEAxiTY9IpBmwx7dDVLageOi5s1Ijoul5P9OMsgI9aBigmnJ24o6UPM
	An0cCkTM4YanRq3FT8Q5an0EzxMgd1ZRK1GrK1ttcVtijsZBIGUJES2v/DEBkG75
	+/Ph5ZI4na4+y2HHpn2m1mzBn4fKAZhPhMp7mCr4rg3fQDyKoiUtsPkCgYEAw1Jd
	iIUqVK+ajBsejpSAPooVFAJeysdvYAVMOseqaSyYtyxuBYwhWCkkHy50tG8IyGg6
	pDetuRUjQp0hTUsvepdVAGsJUUgAElpo5bJux90Kbv5b/QEYIHQEhwKA9Wa0vj+d
	6YAVy+2j9nIY1aMp8F6e/4RLoZgKj/sRgW04D50CgYBSpbv5BFIpIiO8bR5vs4c5
	pBudkzcr8oaE0fUt/aM6uJwITmKyKZ1GzHiNr/TlfQz45jKO+wIX8N24ofnAzTg+
	IWqMQy57QeryMq+nm30UtUHap3ZHkIKlHSz0XPFQlAWNP9PPFkoo1mRM7o7L64P/
	l5XF+uaPcynT2WzaBTfxwQKBgFSk8BXGp8aVZyNKaV6eqkjv7ByEvnGgJfr1sMhU
	WNxFUFUpMvDCfnzHL3k316mN6L94s9kQq/9mUqZ+k7z8VTIKPPL2b85Cpo1NkuHg
	BrQkbW4WWuT0wXDm9kNP6XTvsmo0BYn4UPnUHVcisPJ8SCN7zemrel8oFYO56Scu
	nrndAoGBAMQ+G12ebtNLme64HmIC4MN6iNPzb9Zqe1JKw7Ux4Ic2LAjRSTy2pXpD
	2u2+hR1Ln379UNSewoGVKyK4LIxM3Tkbxxx41RLL8NiQzJZcldAWokvCYX7Fqv3q
	bHhl0lho/XaqC/xqdFInmmmX3C0gXGLa8Ch49X5qpnpghRqJLceh
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	# auto-generated by SSH service (utility.py)
	chmod 400 /etc/ssh/ssh_host_rsa_key
	chmod 655 /var/run/sshd
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:HTTP
	custom-command HTTP
	config {
	dirs=('/etc/apache2', '/var/run/apache2', '/var/log/apache2', '/var/lock/apache2', '/var/www', '/run/lock', )
	files=('/etc/apache2/apache2.conf', '/etc/apache2/envvars', '/var/www/index.html', )
	}
    }
    custom-config {
	custom-config-id service:HTTP:/var/www/index.html
	custom-command /var/www/index.html
	config {
	<html><body><!-- generated by utility.py:HttpService -->
	<h1>Congratulations! You have reached Talos web server</h1>
	</body></html>
	}
    }
    custom-config {
	custom-config-id service:HTTP:/etc/apache2/apache2.conf
	custom-command /etc/apache2/apache2.conf
	config {
	# apache2.conf generated by utility.py:HttpService
	Mutex file:${APACHE_LOCK_DIR} default
	PidFile ${APACHE_PID_FILE}
	Timeout 60
	KeepAlive On
	MaxKeepAliveRequests 100
	KeepAliveTimeout 5
	LoadModule mpm_worker_module /usr/lib/apache2/modules/mod_mpm_worker.so
	ServerName www.talos.edu
	
	<IfModule mpm_prefork_module>
	    StartServers          5
	    MinSpareServers       5
	    MaxSpareServers      10
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_worker_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_event_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	User ${APACHE_RUN_USER}
	Group ${APACHE_RUN_GROUP}
	
	AccessFileName .htaccess
	
	<Files ~ "^\.ht">
	    Require all denied
	</Files>
	
	DefaultType None
	
	HostnameLookups Off
	
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	
	#Include mods-enabled/*.load
	#Include mods-enabled/*.conf
	LoadModule alias_module /usr/lib/apache2/modules/mod_alias.so
	LoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so
	LoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so
	LoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so
	LoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so
	LoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so
	LoadModule dir_module /usr/lib/apache2/modules/mod_dir.so
	LoadModule env_module /usr/lib/apache2/modules/mod_env.so
	
	NameVirtualHost *:80
	Listen 80
	
	<IfModule mod_ssl.c>
	    Listen 443
	</IfModule>
	<IfModule mod_gnutls.c>
	    Listen 443
	</IfModule>
	
	LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
	LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
	LogFormat "%h %l %u %t \"%r\" %>s %O" common
	LogFormat "%{Referer}i -> %U" referer
	LogFormat "%{User-agent}i" agent
	
	ServerTokens OS
	ServerSignature On
	TraceEnable Off
	
	<VirtualHost *:80>
		ServerAdmin webmaster@localhost
		DocumentRoot /var/www
		<Directory />
			Options FollowSymLinks
			AllowOverride None
		</Directory>
		<Directory /var/www/>
			Options Indexes FollowSymLinks MultiViews
			AllowOverride None
			Require all granted
		</Directory>
		ErrorLog ${APACHE_LOG_DIR}/error.log
		LogLevel warn
		CustomLog ${APACHE_LOG_DIR}/access.log combined
	</VirtualHost>
	
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 116.181.198.10" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute SSH HTTP resolvconf}
}

node n7 {
    type router
    model host
    network-config {
	hostname intranet
	!
	interface eth0
	 ip address 116.181.230.10/24
	!
    }
    canvas c1
    iconcoords {1077.0 638.0}
    labelcoords {1077.0 670.0}
    interface-peer {eth0 n16}
    custom-config {
	custom-config-id service:HTTP
	custom-command HTTP
	config {
	dirs=('/etc/apache2', '/var/run/apache2', '/var/log/apache2', '/var/lock/apache2', '/var/www', '/run/lock', )
	files=('/etc/apache2/apache2.conf', '/etc/apache2/envvars', '/var/www/index.html', )
	}
    }
    custom-config {
	custom-config-id service:HTTP:/var/www/index.html
	custom-command /var/www/index.html
	config {
	<html><body><!-- generated by utility.py:HttpService -->
	<h1>Congratulations you have reached intranet server</h1>
	</body></html>
	}
    }
    custom-config {
	custom-config-id service:HTTP:/etc/apache2/apache2.conf
	custom-command /etc/apache2/apache2.conf
	config {
	# apache2.conf generated by utility.py:HttpService
	Mutex file:${APACHE_LOCK_DIR} default
	PidFile ${APACHE_PID_FILE}
	Timeout 60
	KeepAlive On
	MaxKeepAliveRequests 100
	KeepAliveTimeout 5
	LoadModule mpm_worker_module /usr/lib/apache2/modules/mod_mpm_worker.so
	ServerName intranet.talos.edu
	
	<IfModule mpm_prefork_module>
	    StartServers          5
	    MinSpareServers       5
	    MaxSpareServers      10
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_worker_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_event_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	User ${APACHE_RUN_USER}
	Group ${APACHE_RUN_GROUP}
	
	AccessFileName .htaccess
	
	<Files ~ "^\.ht">
	    Require all denied
	</Files>
	
	DefaultType None
	
	HostnameLookups Off
	
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	
	#Include mods-enabled/*.load
	#Include mods-enabled/*.conf
	LoadModule alias_module /usr/lib/apache2/modules/mod_alias.so
	LoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so
	LoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so
	LoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so
	LoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so
	LoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so
	LoadModule dir_module /usr/lib/apache2/modules/mod_dir.so
	LoadModule env_module /usr/lib/apache2/modules/mod_env.so
	
	NameVirtualHost *:80
	Listen 80
	
	<IfModule mod_ssl.c>
	    Listen 443
	</IfModule>
	<IfModule mod_gnutls.c>
	    Listen 443
	</IfModule>
	
	LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
	LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
	LogFormat "%h %l %u %t \"%r\" %>s %O" common
	LogFormat "%{Referer}i -> %U" referer
	LogFormat "%{User-agent}i" agent
	
	ServerTokens OS
	ServerSignature On
	TraceEnable Off
	
	<VirtualHost *:80>
		ServerAdmin webmaster@localhost
		DocumentRoot /var/www
		<Directory />
			Options FollowSymLinks
			AllowOverride None
		</Directory>
		<Directory /var/www/>
			Options Indexes FollowSymLinks MultiViews
			AllowOverride None
			Require all granted
		</Directory>
		ErrorLog ${APACHE_LOG_DIR}/error.log
		LogLevel warn
		CustomLog ${APACHE_LOG_DIR}/access.log combined
	</VirtualHost>
	
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 116.181.198.10" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute HTTP resolvconf}
}

node n8 {
    type router
    model static
    network-config {
	hostname Internet
	!
	interface eth2
	 ip address 107.234.229.1/24
	!
	interface eth1
	 ip address 61.6.239.1/24
	!
	interface eth0
	 ip address 99.229.193.2/24
	!
    }
    canvas c1
    iconcoords {510.0 346.6666666666667}
    labelcoords {510.0 378.6666666666667}
    interface-peer {eth0 n3}
    interface-peer {eth1 n18}
    interface-peer {eth2 n20}
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 99.229.193.1
	#/sbin/ip route add 10.9.8.0/24 via 61.6.239.1
	#/sbin/ip route add 10.9.8.0/24 via 107.234.229.1
	
	ip route add 116.181.0.0/16 via 99.229.193.1
	ip route add 85.242.0.0/16 via  61.6.239.2
	ip route add 85.242.112.0/24 via 61.6.239.2
	}
    }
    services {IPForward StaticRoute}
}

node n9 {
    type router
    model PC
    network-config {
	hostname client1
	!
	interface eth0
	!
    }
    canvas c1
    iconcoords {1079.0 203.0}
    labelcoords {1079.0 235.0}
    interface-peer {eth0 n14}
    services {DefaultRoute DHCPClient}
}

node n10 {
    type router
    model PC
    network-config {
	hostname client2
	!
	interface eth0
	!
    }
    canvas c1
    iconcoords {1079.0 291.0}
    labelcoords {1079.0 323.0}
    interface-peer {eth0 n14}
    services {DefaultRoute DHCPClient}
}

node n12 {
    type router
    model host
    network-config {
	hostname ssh
	!
	interface eth0
	 ip address 116.181.32.10/24
	!
    }
    canvas c1
    iconcoords {1081.0 515.0}
    labelcoords {1081.0 547.0}
    interface-peer {eth0 n15}
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEowIBAAKCAQEAvhNbnbpTLeBmARdvQrIt3SUW1Klc+5crD2LeRkqeQItODlIJ
	C0GN3xLsLFDR74xKGKo33qskbT+bF9WvOej951oiNw3cEJc1kpF+gfcAdLK2ebhL
	1+mC4xGy69xiNJSnjzlJmcfgjRFk5IS+4Cu9b1a/tPklUqNDueocFKKhGeVX5Qq/
	zs6b1b1F9k0WoWSpakMo2vwxKBc2FpRO0FNtTz7TRtw8PzUJVbp5g7frdC+bTfxA
	EGD55WJe9LHPOv8F//EMC6hPEb9nhMDMChSL4YCrc7otg6tq4J1JgpMTW9mtbSvK
	ETW7SMUTS/5UYbOTGboKc7EksEObiGem+bnOpwIDAQABAoIBAQCWhAvDnj2qEY2V
	BbK0VRaejXVD2A3qqS2PFJLBhOtGX0njazEAOdwXrwtYmHN2R1iRqZFugYXqATlW
	qX8F06vkXWrEv/PpK2Rf+Vj9n9Q7lR2My9U7WA2utGBECBO4YZNChnHzFeWKsCB+
	GWRxbhGnrkFHFRhqFSFXgrzT1mjOcIIlK41oqkpTuwrdSPHbUNsNenMIIyeCRlOB
	rxw4Mo3uWatkusUoTi6q7uwH5PTQxBEqsmtAp0Zw3JNf8tHW0u6pGFU8Se6lQM3U
	TUyM7lB2IwPfuI1slxOgDNaMZV17suTzpJz/SHS0+H3tSyS+ZzWj6Ed0ZWay/1jS
	qlSfJGrxAoGBAOME9+csmkjJYUDd4E+JzzzuUBKGaWoMc8ebBUxiDJylYV0af2mi
	zOwTklZy/F+05VuqmugdWD/6L4mndg62zznYY1XUkfZQnonpJmAcL6fzxuXAa5Ah
	Nw/GKY1B1vYcqzJee0RgAIAv/B2j5ufjAsktNDrwd2/c8H24ZHHisGmJAoGBANZX
	D3HTugtI/L0wC1ksFMIryIs4njQ4bqf3Dy4elmu2mUawDxdotXJZd22AwLE5M3WL
	p8FZYhWVzlNE7O+fMzp1MRI+h7a24XGRbRWjSRMVnD6DGKTOzVLa4BFPDihwahnO
	/msp87KxDRj3jKmhQVnAGQ3npORITpL+Bn8Fa9qvAoGAZmDQN2Wq8lY20Jz+0n/Q
	gKbsX15UXand8M9dNVQmYeJHJUiU2xu7FF/DJ89VNwgKQyuODk1lhfyawZZOrFYO
	4ARQz908Mfurc4A8eS1c5H4QXX5IQ8hm32s7Q+PEQFsvbVikeHJe53A8X1WSBVMf
	53/GRSo6gqz9m4Szb5SOgBkCgYAGdLzcWtpBuMMUF7xfxToi1xrFRsFNJV3/5Ssp
	4nX5bJiVTnxF4juE5Dj6rWQgcm6gXcKBymVv7QE39N2GIi9y1VDTEdsYn82OlCjK
	/A4Zaw83us8lN61rj3gsTUtJ4IjxmhCDvdG/UiHo3Jv6CAdl4qleh9mpnpvvRYOA
	k/M5tQKBgC4+Bxu0NHI7GYXEuSiV+12pu2JtDG4MJ/jj87T/JPftOoI1CWdCxuGn
	SEw7GR3lZREjp4bhQxT2qlcwjg5o269msjAWuQd+4CRoN98bwtNnBFxMobgdjL51
	DoJEGpVSzltGCR9q/GUDD+lpMg8sLnWfFt1k6D3T5WM9hCf0j9MT
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	chmod 655 /var/run/sshd
	chmod 400 /etc/ssh/ssh_host_rsa_key
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 116.181.198.10" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute SSH resolvconf}
}

node n13 {
    type router
    model host
    network-config {
	hostname mail
	!
	interface eth0
	 ip address 116.181.198.12/24
	!
    }
    canvas c1
    iconcoords {670.0 687.0}
    labelcoords {670.0 719.0}
    interface-peer {eth0 n17}
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEpQIBAAKCAQEAtpiaUCtsEelw9O3bnYqKQ64qgBDGhZTwR8PLVuZqQ+dFqv/g
	j6jOfkaUfhXb7Gv9WsWXrm/dCJASEV8c81FmK+1IRmJor4W/KyUV0JmmW2hztKVR
	5ep4Z3XWjktXixcv6VAQT3fqvioAMhiILaMKy0E/VadiZJy9NWiSBvQWi39gY/xc
	HLVfoguEPai58W00woRSX7TP59+OoLECvCepK0mItxmWuaDtD1qP7I9JzBkQLyhW
	5YjF/9Urv//W3PHyozM1zSXR37/dgUnNmbo7VQwixAesWVB4iJ291s+qA+QhE4J4
	ZwtR910DGBs6cw7PEkMaVi7U6dNvu3FnhzQtpQIDAQABAoIBAQCRa6OqKYreEQ6W
	4kA/jbBkCndqmvGgPWfHn9V3lfYXsj632yUbBJO/2bI1YG9QMQkLm8YbdJeSVDsv
	fpJt7evzG/ytoX5CG8COOfDPuy7UKbHMssUw2LWfoCeKF9LWwVa098ClqZlYbdbO
	Dt+ViP31tjccnjwsaO//cxKpWwgBe834CREqUI30djbe97aYwpRHHeroB2jJbL+v
	BVfLZCAJtbW6mUtkWLmbMMnNa1cSU2KaLTd/qJg0l2srTI5IajwUjfJMtzAvO4Mt
	s89YJyB1N1eH3fYSssUwlkkk+jzgYd6cerW2hVwx5/+oc/5kz043apQ1E37Ycv6A
	7btcr6ABAoGBANwIQZKvPb1LNe8rjdzMHwGEqmoZYPhPXcF+pYMqR+IVv+3hcXXg
	styu+M4suysjuDUmwLyg2smsWzTLGi9x7S/ZfECUUbf8Tel2VgFF5P+6cVGRA0IG
	cfQJFuQhjQLKNiSnXeJHPfXLmepD8fCfo2MbuJAOExfJKgx3k12ARjQBAoGBANRx
	vzwGoBPeuarmp9HLMuysU1Hxir4Eo9rJ/UK6M5zp5WLC+/Dy9sPpUkM+iHTMDa+F
	EMAZdVEGmcxAijidRToT/hUyqSuLKR2FfQxfzt+Mow21YQIOAIIblu36a7d8jDd2
	5cPcMwNRz/qkfRFRoX8tKqxXltvhfSlelmEBoKmlAoGAd1unLooPZMMK0939i5vS
	6gDsbLetqaVsB43K/RcPfW4s+j7ETJyCikIER9tuAN3UjEikXu6nIKV1qHLQlpIn
	h0BkLagHmFWucgm2Z+Rhb/PUitmuOb/DSw0vNLuagbvtmP6NaDUbQF2c9b673LrM
	Z/Per45i/xEp1S98akkuTAECgYEAuvV7cUz3VWU+ClvAts1XfJdPIB8slXsp5CK8
	ohuRzna8q0SjSfHYHqNYBNukZP0q0huNmTEOYIcplGn7+kTVpn3vriIOZMasIVHX
	sasjOPLgj/DedVtzMQ0srzQh1bFjCHC3Vb2Um0hFevOFKVeog25xTogquEjhyCV4
	u9gd1w0CgYEAmu96fW+EaLl8+npR8lShxr1ozdLgeWxIsIPDHFX3NwvDS4ZX/ZYf
	bzmms0YNrJVehXSwUVhye5fnpcCrAIBO1bZ+TGcQGFyGXxkxwmcVr22BmCYTtud1
	7RoO4thv0/P3puQM7zyP+N3DxxuBdjqYIB9hcB2moVYMjRO59fkG8AM=
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	# auto-generated by SSH service (utility.py)
	chmod 400 /etc/ssh/ssh_host_rsa_key
	chmod 655 /var/run/sshd
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 116.181.198.10" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    custom-config {
	custom-config-id service:postfix
	custom-command postfix
	config {
	files=('postfix.sh', )
	cmddown=('postfix stop', )
	}
    }
    custom-config {
	custom-config-id service:postfix:postfix.sh
	custom-command postfix.sh
	config {
	#!/bin/sh
	# auto-generated for postfix
	
	# uncomment and modify the configuration parameters according to your setup
	cp -R /etc/postfix.d/* /etc/postfix
	
	postconf -e "mynetworks_style=subnet"
	
	postconf -e "myhostname=mail"
	postconf -e "mydomain=talos.edu"
	
	postconf -e "myorigin=talos.edu"
	
	postconf -e "mydestination=mail, localhost, mail.talos.edu, talos.edu"
	
	postconf -e "mynetworks=127.0.0.0/8 116.181.216.0/24 116.181.198.0/24 116.181.230.0/24"
	postconf -e "mynetworks_style=subnet"
	postconf -e "inet_interfaces=127.0.0.1, 116.181.198.12"
	postconf -e "inet_protocols=ipv4"
	
	#for simplicity the TLS is disabled, always use TLS in practice for security
	postconf -e "smtp_use_tls=no"
	postfix start
	
	}
    }
    services {DefaultRoute SSH postfix resolvconf}
}

node n14 {
    type lanswitch
    network-config {
	hostname sw1
	!
    }
    canvas c1
    iconcoords {963.0 245.0}
    labelcoords {963.0 269.0}
    interface-peer {e0 n1}
    interface-peer {e1 n9}
    interface-peer {e2 n10}
    interface-peer {e4 n28}
}

node n15 {
    type lanswitch
    network-config {
	hostname sw4
	!
    }
    canvas c1
    iconcoords {1081.0 434.0}
    labelcoords {1081.0 458.0}
    interface-peer {e0 n4}
    interface-peer {e1 n12}
}

node n16 {
    type lanswitch
    network-config {
	hostname sw2
	!
    }
    canvas c1
    iconcoords {927.0 636.0}
    labelcoords {927.0 660.0}
    interface-peer {e0 n2}
    interface-peer {e1 n7}
}

node n17 {
    type lanswitch
    network-config {
	hostname sw3
	!
    }
    canvas c1
    iconcoords {581.0 556.0}
    labelcoords {581.0 580.0}
    interface-peer {e0 n3}
    interface-peer {e1 n5}
    interface-peer {e2 n6}
    interface-peer {e3 n13}
}

node n18 {
    type router
    model static
    network-config {
	hostname minerva
	!
	interface eth2
	 ip address 85.242.150.1/24
	!
	interface eth1
	 ip address 85.242.112.1/24
	!
	interface eth0
	 ip address 61.6.239.2/24
	!
    }
    canvas c1
    iconcoords {368.3333333333333 224.33333333333334}
    labelcoords {368.3333333333333 256.3333333333333}
    interface-peer {eth0 n8}
    interface-peer {eth1 n19}
    interface-peer {eth2 n22}
    custom-config {
	custom-config-id service:DHCP
	custom-command DHCP
	config {
	files=('/etc/dhcp/dhcpd.conf', )
	}
    }
    custom-config {
	custom-config-id service:DHCP:/etc/dhcp/dhcpd.conf
	custom-command /etc/dhcp/dhcpd.conf
	config {
	# Place DHCP Server configuration here
	
	default-lease-time 36000;
	max-lease-time 72000;
	
	ddns-update-style none;
	
	subnet 85.242.112.0 netmask 255.255.255.0 {
	  pool {
	    range 85.242.112.01 85.242.112.254;
	    default-lease-time 36000;
	    option routers 85.242.112.1;
	    option domain-name-servers 85.242.150.11;
	    option domain-name "delos.edu";
	  }
	}
	
	
	}
    }
    custom-config {
	custom-config-id service:StaticRoute
	custom-command StaticRoute
	config {
	files=('staticroute.sh', )
	}
    }
    custom-config {
	custom-config-id service:StaticRoute:staticroute.sh
	custom-command staticroute.sh
	config {
	#!/bin/sh
	# auto-generated by StaticRoute service (utility.py)
	#
	# NOTE: this service must be customized to be of any use
	#       Below are samples that you can uncomment and edit.
	#
	#/sbin/ip route add 10.9.8.0/24 via 61.6.239.1
	#/sbin/ip route add 10.9.8.0/24 via 85.242.112.1
	#/sbin/ip route add 10.9.8.0/24 via 85.242.150.1
	
	ip route add default via 61.6.239.1
	
	}
    }
    services {IPForward StaticRoute DHCP}
}

node n19 {
    type lanswitch
    network-config {
	hostname sw5
	!
    }
    canvas c1
    iconcoords {259.0 321.0}
    labelcoords {259.0 345.0}
    interface-peer {e0 n18}
    interface-peer {e1 n24}
    interface-peer {e2 n25}
    interface-peer {e3 n26}
}

node n20 {
    type lanswitch
    network-config {
	hostname sw7
	!
    }
    canvas c1
    iconcoords {528.0 235.0}
    labelcoords {528.0 259.0}
    interface-peer {e0 n8}
    interface-peer {e1 n21}
}

node n21 {
    type router
    model host
    network-config {
	hostname clio
	!
	interface eth0
	 ip address 107.234.229.10/24
	!
    }
    canvas c1
    iconcoords {624.0 129.0}
    labelcoords {624.0 161.0}
    interface-peer {eth0 n20}
    custom-config {
	custom-config-id service:bind9
	custom-command bind9
	config {
	files=('bind.sh', '/etc/bind.d/named.conf', '/etc/bind.d/named.conf.options', '/etc/bind.d/named.conf.local', '/etc/bind.d/named.conf.default-zones', 'creator.b64', )
	cmddown=('service bind9 stop', )
	}
    }
    custom-config {
	custom-config-id service:bind9:creator.b64
	custom-command creator.b64
	config {
	VGhpcyB3b3JrIGlzIGEgcmVjcmVhdGlvbiBvZiBhIHByaW9yIHdvcmsgYnkgQXNzb2NpYXRlIFByb2Zlc3NvciBHdWlkbyBUYWsuCkkgY3JlYXRlZCB0aGlzIENvcmUgQ29uZmlndXJhdGlvbiBmaWxlIHVzaW5nIHRoYXQgb3JpZ2luYWwgaWRlYSBhbmQgdGFraW5nIAp0aG9zZSBpbml0aWFsIGNvbmZpZ3VyYXRpb25zIGFzIGEgZ3VpZGVsaW5lIGFuZCB0aGVuIGV4cGFuZGVkIGFuZCBpbXByb3ZlZCAKaXQgd2l0aCBwcm9wZXJseSBjb25maWd1cmVkIG5hbWUgcmVzb2x1dGlvbiBzZXJ2aWNlIGFuZCBzZXQgaXQgdXAgc28gbW9zdCAKc2VydmljZXMgY2FuIGJlIHRlc3RlZCBpbmRlcGVuZGVudGx5LgpUaGVyZSBhcmUgc2VydmljZXMgaW4gRE1aIGFuZCBFeHRlcm5hbCBuZXR3b3JrIHRoYXQgYWxsb3cgdGVzdGluZyBvZiAKZmlyZXdhbGwgcnVsZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXNlIGFyZSBjb25maWd1cmVkIGNvcnJlY3RseS4KT3ZlcmFsbCB0aGlzIGlzIGEgdmVyeSBnb29kIGV4ZXJjaXNlIGZvciB1bmRlcnN0YW5kaW5nIHRoZSBuZXR3b3JraW5nCmNvbmNlcHRzLCBsZWFybmluZyBob3cgdG8gdXNlIG5ldHdvcmtpbmcgdG9vbHMsIGFuZCB0byBiZXR0ZXIgdW5kZXJzdGFuZApob3cgcGFja2V0LWZpbHRlcmluZyBmaXJld2FsbHMgd29yay4KSSBob3BlIHlvdSBlbmpveSBjb21wbGV0aW5nIHRoaXMgZXhlcmNpc2UgYW5kIHdpc2ggeW91IGFsbCBiZXN0IG9mIGx1Y2suCgorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfDorKzorKys6KzorOjorOjp+Li4uLi5+fn5+fi5+Li4uLi4uLi4uLi58CnwrKysrKysrKzorOisrfi4uLi4uLiAgIC4ufn5+Li4uLi4uLi4uLi4ufAp8KysrKysrKysrKys6Li4ufn5+fi4uLi4uICAuLn4uLi4uLi4uLi4uLnwKfCsrKysrKysrKys6IC46Ojo6On4uLi4uLi4gICAuLi4uLi4uLi4uLi58CnwrKysrKysrKysrLi46Ojo6fn5+fi4uLi4gICAgIC4uLi4uLi4uLi4ufAp8KysrKysrKysrKy4uOjouLi4ufjouICAgICAgICAuLi4uLi4uLi4uLnwKfCsrKysrKysrKzouLis6fn4uLjo6LiAgICAgICAgLi4uLi4uLi4uLi58CnwrKysrKysrKysrOi4rKzo6Ojo6Oi4uIC4uLi4gIC4uLi4uLi4uLi4ufAp8KysrKysrKysrKzo6Ojo6Ojo6Ojp+LiAuLi4gIC5+Li4uLi4uLi4uLnwKfCsrKysrKysrKysrOjo6Ojo6On5+Li4uLiAgICAuLi4uLi4uLi4uLi58CnwrKysrKysrKysrKys6Ojo6Ojp+Li4uIC4uICAuLi4uLi4uLi4uLi4ufAp8KysrKysrKysrKzorKzo6Ojo6On4uLi4uICAufi4uLi4uLi4uLi4uLnwKfCsrKysrKysrKzouK286fjo6Ojp+Li4uICAufn5+Li4uLi4uLi4uLi58CnwrKysrKys6Oi4uLjpvbyt+Ln46fi4uLiAgLi4uLi4uLi4uLi4uLi4ufAp8KysrOn4uLiAuLi4uK29vbzouIC4uLi4uLi5+Li4uLi4uLi4uLi4uLnwKfH4uLiAuIC4uLi4uLi5vb29vKzouIC4uLiB+OjogICAgICAuLi4uLi58CnwgICAgIC4gLi4uLi4gfm9vKzorKy4gICAufn4uICAgICAgICAuLi4gfAp8ICAuICAgICAgIC4uLiA6On46Ojo6fi4uLi4uICAgICAgICAgIC4uLnwKfCAgICAgICAuICAgLi4gIH46Ojo6OjouLi4uLiAgICAgICAgICAgLiB8CnwgICAgIC4gICAgICAgLiAufjo6Ojo6Li4uLi4gICAgICAgICAgIC4gfAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKU2VwZWhyIE1pbmFnYXIKCg==
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.local
	custom-command /etc/bind.d/named.conf.local
	config {
	zone "talos.edu" {
	  type forward;
	  forwarders { 116.181.198.10; };
	};
	
	zone "delos.edu" {
	  type forward;
	  forwarders { 85.242.150.11; };
	};
	                    
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.options
	custom-command /etc/bind.d/named.conf.options
	config {
	// Example named.conf.options file
	
	options {
	    directory "/var/cache/bind";
	
	    // If there is a firewall between you and nameservers you want
	    // to talk to, you may need to fix the firewall to allow multiple
	    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113
	
	    // If your ISP provided one or more IP addresses for stable 
	    // nameservers, you probably want to use them as forwarders.  
	    // Uncomment the following block, and insert the addresses replacing 
	    // the all-0's placeholder.
	
	    // forwarders {
	    //  0.0.0.0;
	    // };
	
	    //========================================================================
	    // If BIND logs error messages about the root key being expired,
	    // you will need to update your keys.  See https://www.isc.org/bind-keys
	    //========================================================================
	    dnssec-validation no;
	    allow-query { any; };
	    auth-nxdomain no;    # conform to RFC1035
	    listen-on { any; };
	    recursion yes;
	};
	
	            
	}
    }
    custom-config {
	custom-config-id service:bind9:bind.sh
	custom-command bind.sh
	config {
	#!/bin/sh
	# auto-generated for bind9
	
	# copying the root database for the virtual node from the host
	cp /etc/bind/db.root /etc/bind.d
	named -4 -c /etc/bind.d/named.conf
	base64 -d creator.b64 > creator.txt
	rm creator.b64 
	        
	}
    }
    services {DefaultRoute bind9}
}

node n22 {
    type lanswitch
    network-config {
	hostname sw6
	!
    }
    canvas c1
    iconcoords {259.0 117.0}
    labelcoords {259.0 141.0}
    interface-peer {e0 n18}
    interface-peer {e1 n23}
    interface-peer {e2 n27}
    interface-peer {e3 n11}
}

node n23 {
    type router
    model host
    network-config {
	hostname apollo
	!
	interface eth0
	 ip address 85.242.150.10/24
	!
    }
    canvas c1
    iconcoords {70.0 44.0}
    labelcoords {70.0 76.0}
    interface-peer {eth0 n22}
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEpAIBAAKCAQEA1lr1pFPTwCsuDlWa1+ny7EvTyVztLSFmHAkKJKrsDQpkPuh0
	jtcpkYjDLawHuaM9kgJfjo6f+vbaUFNfE4ZHBSU95u66teHxkhYU48bvPR+i6Qk/
	Jx2aUoMUDKswIPV8/EB5nyR9Ff8MUHcbr8w4Kn6Ppo7eEpFiLBfMSGxnYVinRUPj
	RY0WIM3bgJMaQgyxNd50xxDI1KsULuuTLWPLdhmyuCMLd6S4g5JnkJjKCqheayo+
	XBL6Aqmbs66RXTB8dH7NoAYwl2UNw4YmQi/UkBr00rdxjbBAPVdlpqalr50aA1Gn
	Sg7urWqOl6PE58KLIQAs2N98CzymaB17eXxlKwIDAQABAoIBAQCUlx0suodQ8R3O
	Bf1+qsggkTfQoEAxRrO3v3RukqVrLMbs7MrPscs4/Wr/H/+C6evmaQrAkZHIsJIJ
	mKGRsUVOBdDxYo+/QU7qC7CTbPWuk12k2SoT/Wtaw06Esa59Sm9HlZI5hVvIgbKR
	nN9ub8yHeJAvz12V1X4OPrj3g13ulfa8yGvY41NdVSWl81PQcK/CfyF7R+izQJ1j
	Hn3hEolDQyJx5+RqR5dhmthwpnQzFKHFlb9uQAX7TQWVnLJs3C5IylBVfQaisrGD
	kgniZo6sS2TRPTiYyGyMvQpp6e3mLFlYcclZm8O3uG/c4Cs6lhTj4kVnRwqb5DuK
	hlexo0gBAoGBAPZ3AR/7jdwN4s7KFRuxjzsybiZbQNtZYRG2JqVLPzQL6Iv3qdyp
	OWan6hy3cO5OX0JUKhC8Yn/wLdaI/kQSvGBkvYc0jyFNp/xwc/lV7qvpL/XexEu6
	BnL1gMbbxOJzbYpHJbVc3Zs3Iw5WdG0qvaAMLqKRg3Hs9wovy424HT4BAoGBAN6l
	8PA/0yMIvQdDYqHHc5N0m54Noazi3XPckQk/5X0FevMVe1KFL6hn0nnesg8Bd8wA
	3nPQW064US/SwgSuH25WxpOzK0Gk831ei+U+HjFkjy77gwXJMurhbe0L7k6rA7CS
	VKo9rWb2UWA9fPhyDfLV2JOirbQFU5O6tzBwyPsrAoGAU+9dS7YQrsNv3XrGy4Kh
	w8g96QQkx07eFvkQmjRRFvmDPb+fco2TBdnjidoTNKUuHdmp5b8yUF3MToajCS3U
	R4OnZBdLM01OC1OEu4I/YP5uHe66rQtyTM49B/wqRfCHepMWTXiN4+FYJ/bbeZ4X
	rBzZ+PVTbYYE78wtJ1tvYgECgYAaVDlHz+Rh8jiYUUmqo/Fw8Isuh6Ik1bcmamDk
	XSAARtOhR1sMCR/3pD9plgIscBoAj+G+hFcn2fgP1baH4ydoXu6grMFiw+TfYHze
	oRfk82VTQv7dgkt5JyteqtiFiQeoq8VDVIPa9ynsXZkXsDUiEFPKMaSk8zRM9fmP
	yuaZfQKBgQDyhxroe9dxV/IFWiR1HAZXD8UsQVw3wyuFmugNpzwT8Ytg0cKZ8zqd
	fcG870egCwE0pdd2fLQ14rtPcs5ev/ti1rlzCS1lw1v4/rLRv/VvQgniJHjyYi+M
	XB/doz3Eqc5Ghwn8WSh3XOknmwOvP/mVQWTxjL93XyDswKT7n9kpzw==
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	# auto-generated by SSH service (utility.py)
	chmod 400 /etc/ssh/ssh_host_rsa_key
	chmod 655 /var/run/sshd
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:HTTP
	custom-command HTTP
	config {
	dirs=('/etc/apache2', '/var/run/apache2', '/var/log/apache2', '/var/lock/apache2', '/var/www', '/run/lock', )
	files=('/etc/apache2/apache2.conf', '/etc/apache2/envvars', '/var/www/index.html', )
	}
    }
    custom-config {
	custom-config-id service:HTTP:/var/www/index.html
	custom-command /var/www/index.html
	config {
	<html><body><!-- generated by utility.py:HttpService -->
	<h1>Congratulations! You have reached the Delos web server</h1>
	</body></html>
	}
    }
    custom-config {
	custom-config-id service:HTTP:/etc/apache2/apache2.conf
	custom-command /etc/apache2/apache2.conf
	config {
	# apache2.conf generated by utility.py:HttpService
	Mutex file:${APACHE_LOCK_DIR} default
	PidFile ${APACHE_PID_FILE}
	Timeout 60
	KeepAlive On
	MaxKeepAliveRequests 100
	KeepAliveTimeout 5
	LoadModule mpm_worker_module /usr/lib/apache2/modules/mod_mpm_worker.so
	ServerName www.delos.edu
	
	<IfModule mpm_prefork_module>
	    StartServers          5
	    MinSpareServers       5
	    MaxSpareServers      10
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_worker_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_event_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	User ${APACHE_RUN_USER}
	Group ${APACHE_RUN_GROUP}
	
	AccessFileName .htaccess
	
	<Files ~ "^\.ht">
	    Require all denied
	</Files>
	
	DefaultType None
	
	HostnameLookups Off
	
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	
	#Include mods-enabled/*.load
	#Include mods-enabled/*.conf
	LoadModule alias_module /usr/lib/apache2/modules/mod_alias.so
	LoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so
	LoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so
	LoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so
	LoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so
	LoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so
	LoadModule dir_module /usr/lib/apache2/modules/mod_dir.so
	LoadModule env_module /usr/lib/apache2/modules/mod_env.so
	
	NameVirtualHost *:80
	Listen 80
	
	<IfModule mod_ssl.c>
	    Listen 443
	</IfModule>
	<IfModule mod_gnutls.c>
	    Listen 443
	</IfModule>
	
	LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
	LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
	LogFormat "%h %l %u %t \"%r\" %>s %O" common
	LogFormat "%{Referer}i -> %U" referer
	LogFormat "%{User-agent}i" agent
	
	ServerTokens OS
	ServerSignature On
	TraceEnable Off
	
	<VirtualHost *:80>
		ServerAdmin webmaster@localhost
		DocumentRoot /var/www
		<Directory />
			Options FollowSymLinks
			AllowOverride None
		</Directory>
		<Directory /var/www/>
			Options Indexes FollowSymLinks MultiViews
			AllowOverride None
			Require all granted
		</Directory>
		ErrorLog ${APACHE_LOG_DIR}/error.log
		LogLevel warn
		CustomLog ${APACHE_LOG_DIR}/access.log combined
	</VirtualHost>
	
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 85.242.150.11" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute SSH HTTP resolvconf}
}

node n24 {
    type router
    model PC
    network-config {
	hostname extClient1
	!
	interface eth0
	!
    }
    canvas c1
    iconcoords {70.66666666666667 281.0}
    labelcoords {70.66666666666667 313.0}
    interface-peer {eth0 n19}
    services {DefaultRoute DHCPClient}
}

node n25 {
    type router
    model PC
    network-config {
	hostname extClient2
	!
	interface eth0
	!
    }
    canvas c1
    iconcoords {62.333333333333336 358.0}
    labelcoords {62.333333333333336 390.0}
    interface-peer {eth0 n19}
    services {DefaultRoute DHCPClient}
}

node n27 {
    type router
    model host
    network-config {
	hostname artemis
	!
	interface eth0
	 ip address 85.242.150.11/24
	!
    }
    canvas c1
    iconcoords {69.0 117.0}
    labelcoords {69.0 149.0}
    interface-peer {eth0 n22}
    custom-config {
	custom-config-id service:bind9
	custom-command bind9
	config {
	files=('bind.sh', '/etc/bind.d/named.conf', '/etc/bind.d/named.conf.options', '/etc/bind.d/named.conf.local', '/etc/bind.d/named.conf.default-zones', '/etc/bind.d/db.delos.edu', )
	cmddown=('service bind9 stop', )
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/db.delos.edu
	custom-command /etc/bind.d/db.delos.edu
	config {
	$TTL    604800
	@   IN  SOA ns.delos.edu. root.delos.edu. (
	                  2     ; Serial
	             604800     ; Refresh
	              86400     ; Retry
	            2419200     ; Expire
	             604800 )   ; Negative Cache TTL
	;
	@	IN	NS	ns.delos.edu.
	ns	IN	A	85.242.150.11
	www	IN	A	85.242.150.10
	artemis	IN	A	85.242.150.10
	1w	IN	MX	1	mail.delos.edu.
	mail	IN	A	85.242.150.12
	demeter	IN	A	85.242.150.12
	leto	IN	A	85.242.112.10 
	creator	IN	TXT	"Sepehr Minagar"
	           
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.local
	custom-command /etc/bind.d/named.conf.local
	config {
	zone "delos.edu" {
		type master;
		file "/etc/bind.d/db.delos.edu";
		allow-transfer { 107.234.229.10; };
	};
	
	
	}
    }
    custom-config {
	custom-config-id service:bind9:/etc/bind.d/named.conf.options
	custom-command /etc/bind.d/named.conf.options
	config {
	// Example named.conf.options file
	
	options {
	    directory "/var/cache/bind";
	
	    // If there is a firewall between you and nameservers you want
	    // to talk to, you may need to fix the firewall to allow multiple
	    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113
	
	    // If your ISP provided one or more IP addresses for stable 
	    // nameservers, you probably want to use them as forwarders.  
	    // Uncomment the following block, and insert the addresses replacing 
	    // the all-0's placeholder.
	
	    forwarders {
	      107.234.229.10;
	    };
	
	    //========================================================================
	    // If BIND logs error messages about the root key being expired,
	    // you will need to update your keys.  See https://www.isc.org/bind-keys
	    //========================================================================
	    dnssec-validation no;
	    allow-query { any; };
	    auth-nxdomain no;    # conform to RFC1035
	    listen-on { any; };
	    recursion yes;
	};
	
	            
	}
    }
    services {DefaultRoute bind9}
}

node n28 {
    type router
    model host
    network-config {
	hostname localweb
	!
	interface eth0
	 ip address 116.181.216.10/24
	!
    }
    canvas c1
    iconcoords {856.0 171.0}
    labelcoords {856.0 203.0}
    interface-peer {eth0 n14}
    custom-config {
	custom-config-id service:HTTP
	custom-command HTTP
	config {
	dirs=('/etc/apache2', '/var/run/apache2', '/var/log/apache2', '/var/lock/apache2', '/var/www', '/run/lock', )
	files=('/etc/apache2/apache2.conf', '/etc/apache2/envvars', '/var/www/index.html', )
	}
    }
    custom-config {
	custom-config-id service:HTTP:/var/www/index.html
	custom-command /var/www/index.html
	config {
	<html><body><!-- generated by utility.py:HttpService -->
	<h1>Congratulations you reached local web server</h1>
	</body></html>
	}
    }
    custom-config {
	custom-config-id service:HTTP:/etc/apache2/apache2.conf
	custom-command /etc/apache2/apache2.conf
	config {
	# apache2.conf generated by utility.py:HttpService
	Mutex file:${APACHE_LOCK_DIR} default
	PidFile ${APACHE_PID_FILE}
	Timeout 60
	KeepAlive On
	MaxKeepAliveRequests 100
	KeepAliveTimeout 5
	LoadModule mpm_worker_module /usr/lib/apache2/modules/mod_mpm_worker.so
	ServerName localweb.talos.edu
	
	<IfModule mpm_prefork_module>
	    StartServers          5
	    MinSpareServers       5
	    MaxSpareServers      10
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_worker_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_event_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	User ${APACHE_RUN_USER}
	Group ${APACHE_RUN_GROUP}
	
	AccessFileName .htaccess
	
	<Files ~ "^\.ht">
	    Require all denied
	</Files>
	
	DefaultType None
	
	HostnameLookups Off
	
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	
	#Include mods-enabled/*.load
	#Include mods-enabled/*.conf
	LoadModule alias_module /usr/lib/apache2/modules/mod_alias.so
	LoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so
	LoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so
	LoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so
	LoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so
	LoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so
	LoadModule dir_module /usr/lib/apache2/modules/mod_dir.so
	LoadModule env_module /usr/lib/apache2/modules/mod_env.so
	
	NameVirtualHost *:80
	Listen 80
	
	<IfModule mod_ssl.c>
	    Listen 443
	</IfModule>
	<IfModule mod_gnutls.c>
	    Listen 443
	</IfModule>
	
	LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
	LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
	LogFormat "%h %l %u %t \"%r\" %>s %O" common
	LogFormat "%{Referer}i -> %U" referer
	LogFormat "%{User-agent}i" agent
	
	ServerTokens OS
	ServerSignature On
	TraceEnable Off
	
	<VirtualHost *:80>
		ServerAdmin webmaster@localhost
		DocumentRoot /var/www
		<Directory />
			Options FollowSymLinks
			AllowOverride None
		</Directory>
		<Directory /var/www/>
			Options Indexes FollowSymLinks MultiViews
			AllowOverride None
			Require all granted
		</Directory>
		ErrorLog ${APACHE_LOG_DIR}/error.log
		LogLevel warn
		CustomLog ${APACHE_LOG_DIR}/access.log combined
	</VirtualHost>
	
	
	}
    }
    custom-config {
	custom-config-id service:SSH
	custom-command SSH
	config {
	files=('startsshd.sh', '/etc/ssh/sshd_config', '/etc/ssh/ssh_host_rsa_key', )
	}
    }
    custom-config {
	custom-config-id service:SSH:/etc/ssh/ssh_host_rsa_key
	custom-command /etc/ssh/ssh_host_rsa_key
	config {
	-----BEGIN RSA PRIVATE KEY-----
	MIIEpAIBAAKCAQEAsgmvfuVtGLxdHhKkRSXFq/wVjx2hZALHPNFLNdNKydyBzti2
	a4hVe9zVgIkLTPcSNDv5mRiRvpB3rikSbB/xHX66pV8tX7ieLiGeEOcVWNpnzYnD
	4qZm1s1oP8se1+nXVyjSJM86pvhX4wKcMHtdsW4Gt3xJkPVFPwgeAhrxsNzwZJRd
	wkoY9wG5FBvsTjuoZ9eqzVx5F2xA92LlI2Fgot1sooSivDH+jv/w/FlqWy8dihqr
	fhjVUaDI88FVU/qqKlCNVN5gUkYFv66vUDEQEhzCiWhsI3ONl1DHsKkLUxV1EPLa
	kRYBey+I5lsYPUVOlpUH2nW07v50hEqdBp4x+QIDAQABAoIBAQCL8LMCAmG7VKu4
	rJx0QZlbctybToYB73Edq8D7QOaDPpDFvm+8nD/dCRrEWnQIfhfP+Oha3wYIDNQV
	j/EMDhtevLMGs4YdvCaRShlNXeXYnmuDEmtnJrak1nW/1u+adRKvTsXG6yBGB+RE
	6lNMhFuD0GD1LntAtplETyQPMZCSG/bSBz3m3idAlRQSi5/DXOHKH68SUCHPKei0
	+tZN+T+9ITCsyEbvJlcPgTFdsrj7R8iI1YS4UX9WWhi+XbPE8xwXz+j7xxL2xCy2
	OmQb1jvbttiYm9sexPWNGbRVnJLBEmIewA29zk2dXtZZXLacNwTuvIRHfSF/iee8
	83CibPnVAoGBAOnZtBNCrK0EJN5AZ1+uP3cjTAfzoy8uYpBmVhFQSSafUrZQQ0fH
	jjxKwOJaZ49rxarq9UJJUX28PQDB2CqXn0Ryqd867Ci9mVBg1U4DM4/nQ3Bf/jwI
	tV/UpOWaHpjbKfCxMZAGzi4GlN5YzroYlu+XiGhYHnXCioPKQSqGxUwPAoGBAMLm
	qimKGHgGsyWAmY7KsNouHDilD0mQ4NH5EkwuBWDW71VCgwPrqcapFqy3e44VwjdL
	1xO6wi90YmZlQTP8Z/SRyZzQR/0yzqdQfcxa6xrJkzaGAanK3F9gdysR/8DQ9cDo
	hy3RA1APdIuwyuQCoZLV6d2Qk6SCw2Nle6BW/7l3AoGAWIROdGftgsQpzHLmbkI/
	xbH3qp7faxGMv4ntFDqmpdby8Q2qmfYAcfP91PBReOlbdhnf4kpsbUKeeLXnRCAG
	altYz6W3FKjH6rPsqc3ua48naNb9He5R8UdFb5+J62QyGOiJkTHyQ1u8Z/mHrst1
	/pUGTjDkvsB3u/EH/7fp4KMCgYAIhrS8+niVj514r4aIM5/G+6tqYvYnPrpHFUFS
	qdS8ZsqzjSRUIJQdx7nhNmmmTpdfeebfyxTBpLLFTfqrPoiBr3sFbCsqDXXy5deL
	ABM26ciR4wzhk6lOVtb/wFrS4ZFOrh1zyKf/cZ2kmshVbzQIS2lesvtyf/HyQDdH
	TWcEgwKBgQC29qu2acCi8EoXaOCZdtDv18HMZJ3mGuX22sKr0sPva8xKM5+JvXg7
	DHEd34LQsdL2Nk3FckNADL69MJZgHYaWqhPXoGcBlEcXZeo4TbiZTXWNXuxzbHvf
	Cgs29O7t9CASVSplG5q+tWGk6poshAiEAsvmPTnGvC5wVZ3/0ci3Dg==
	-----END RSA PRIVATE KEY-----
	
	}
    }
    custom-config {
	custom-config-id service:SSH:startsshd.sh
	custom-command startsshd.sh
	config {
	#!/bin/sh
	chmod 655 /var/run/sshd
	chmod 400 /etc/ssh/ssh_host_rsa_key
	# wait until RSA host key has been generated to launch sshd
	/usr/sbin/sshd -f /etc/ssh/sshd_config
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 116.181.198.10" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute SSH HTTP resolvconf}
}

node n11 {
    type router
    model host
    network-config {
	hostname demeter
	!
	interface eth0
	 ip address 85.242.150.12/24
	!
    }
    canvas c1
    iconcoords {66.0 191.0}
    labelcoords {66.0 223.0}
    interface-peer {eth0 n22}
    services {DefaultRoute SSH postfix resolvconf}
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 85.242.150.11" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    custom-config {
	custom-config-id service:postfix
	custom-command postfix
	config {
	files=('postfix.sh', )
	cmddown=('postfix stop', )
	}
    }
    custom-config {
	custom-config-id service:postfix:postfix.sh
	custom-command postfix.sh
	config {
	#!/bin/sh
	# auto-generated for postfix
	
	# uncomment and modify the configuration parameters according to your setup
	cp -R /etc/postfix.d/* /etc/postfix
	
	postconf -e "mynetworks_style=subnet"
	
	postconf -e "myhostname=mail"
	postconf -e "mydomain=delos.edu"
	
	postconf -e "myorigin=delos.edu"
	
	postconf -e "mydestination=mail, localhost, mail.delos.edu, delos.edu"
	
	postconf -e "mynetworks=127.0.0.0/8 85.242.112.0/24 85.242.150.0/24"
	postconf -e "mynetworks_style=subnet"
	postconf -e "inet_interfaces=127.0.0.1, 85.242.150.12"
	postconf -e "inet_protocols=ipv4"
	
	#for simplicity the TLS is disabled, always use TLS in practice for security
	postconf -e "smtp_use_tls=no"
	postfix start
	
	}
    }
}

node n26 {
    type router
    model host
    network-config {
	hostname leto
	!
	interface eth0
	 ip address 85.242.112.10/24
	!
    }
    canvas c1
    iconcoords {259.0 431.0}
    labelcoords {259.0 463.0}
    interface-peer {eth0 n19}
    custom-config {
	custom-config-id service:HTTP
	custom-command HTTP
	config {
	dirs=('/etc/apache2', '/var/run/apache2', '/var/log/apache2', '/var/lock/apache2', '/var/www', '/run/lock', )
	files=('/etc/apache2/apache2.conf', '/etc/apache2/envvars', '/var/www/index.html', )
	}
    }
    custom-config {
	custom-config-id service:HTTP:/var/www/index.html
	custom-command /var/www/index.html
	config {
	<html><body><!-- generated by utility.py:HttpService -->
	<h1>Congratulations you reached delos internal web server</h1>
	</body></html>
	}
    }
    custom-config {
	custom-config-id service:HTTP:/etc/apache2/apache2.conf
	custom-command /etc/apache2/apache2.conf
	config {
	# apache2.conf generated by utility.py:HttpService
	Mutex file:${APACHE_LOCK_DIR} default
	PidFile ${APACHE_PID_FILE}
	Timeout 300
	KeepAlive On
	MaxKeepAliveRequests 100
	KeepAliveTimeout 5
	LoadModule mpm_worker_module /usr/lib/apache2/modules/mod_mpm_worker.so
	ServerName leto.delos.edu
	
	<IfModule mpm_prefork_module>
	    StartServers          5
	    MinSpareServers       5
	    MaxSpareServers      10
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_worker_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	<IfModule mpm_event_module>
	    StartServers          2
	    MinSpareThreads      25
	    MaxSpareThreads      75 
	    ThreadLimit          64
	    ThreadsPerChild      25
	    MaxClients          150
	    MaxRequestsPerChild   0
	</IfModule>
	
	User ${APACHE_RUN_USER}
	Group ${APACHE_RUN_GROUP}
	
	AccessFileName .htaccess
	
	<Files ~ "^\.ht">
	    Require all denied
	</Files>
	
	DefaultType None
	
	HostnameLookups Off
	
	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	
	#Include mods-enabled/*.load
	#Include mods-enabled/*.conf
	LoadModule alias_module /usr/lib/apache2/modules/mod_alias.so
	LoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so
	LoadModule authz_core_module /usr/lib/apache2/modules/mod_authz_core.so
	LoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so
	LoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so
	LoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so
	LoadModule dir_module /usr/lib/apache2/modules/mod_dir.so
	LoadModule env_module /usr/lib/apache2/modules/mod_env.so
	
	NameVirtualHost *:80
	Listen 80
	
	<IfModule mod_ssl.c>
	    Listen 443
	</IfModule>
	<IfModule mod_gnutls.c>
	    Listen 443
	</IfModule>
	
	LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
	LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
	LogFormat "%h %l %u %t \"%r\" %>s %O" common
	LogFormat "%{Referer}i -> %U" referer
	LogFormat "%{User-agent}i" agent
	
	ServerTokens OS
	ServerSignature On
	TraceEnable Off
	
	<VirtualHost *:80>
		ServerAdmin webmaster@localhost
		DocumentRoot /var/www
		<Directory />
			Options FollowSymLinks
			AllowOverride None
		</Directory>
		<Directory /var/www/>
			Options Indexes FollowSymLinks MultiViews
			AllowOverride None
			Require all granted
		</Directory>
		ErrorLog ${APACHE_LOG_DIR}/error.log
		LogLevel warn
		CustomLog ${APACHE_LOG_DIR}/access.log combined
	</VirtualHost>
	
	
	}
    }
    custom-config {
	custom-config-id service:resolvconf
	custom-command resolvconf
	config {
	dirs=('/var/run/resolvconf', )
	files=('resolvconf.sh', )
	cmdup=('sh resolvconf.sh', )
	}
    }
    custom-config {
	custom-config-id service:resolvconf:resolvconf.sh
	custom-command resolvconf.sh
	config {
	#  Adjust the name servers accordingly and uncomment lines
	#  Do not use with DHCP Client if DHCP server specifies DNS address (the commands are included in DHCP client configuration script)
	resolvconf --enable-updates
	echo "nameserver 85.242.150.11" | resolvconf -a eth0
	resolvconf -u
	
	}
    }
    services {DefaultRoute DHCPClient}
}

link l1 {
    nodes {n14 n1}
    bandwidth 0
}

link l2 {
    nodes {n9 n14}
    bandwidth 0
}

link l3 {
    nodes {n10 n14}
    bandwidth 0
}

link l5 {
    nodes {n3 n17}
    bandwidth 0
}

link l6 {
    nodes {n5 n17}
    bandwidth 0
}

link l7 {
    nodes {n6 n17}
    bandwidth 0
}

link l8 {
    nodes {n13 n17}
    bandwidth 0
}

link l9 {
    nodes {n2 n16}
    bandwidth 0
}

link l10 {
    nodes {n7 n16}
    bandwidth 0
}

link l11 {
    nodes {n4 n15}
    bandwidth 0
}

link l12 {
    nodes {n12 n15}
    bandwidth 0
}

link l13 {
    delay 110
    nodes {n1 n3}
    bandwidth 1000000000
}

link l14 {
    delay 110
    nodes {n3 n2}
    bandwidth 1000000000
}

link l15 {
    delay 110
    nodes {n4 n2}
    bandwidth 1000000000
}

link l16 {
    delay 100
    nodes {n1 n4}
    bandwidth 100000000
}

link l17 {
    delay 100
    nodes {n1 n2}
    bandwidth 100000000
}

link l18 {
    nodes {n3 n8}
    bandwidth 0
}

link l19 {
    nodes {n8 n18}
    bandwidth 0
}

link l20 {
    nodes {n18 n19}
    bandwidth 0
}

link l21 {
    nodes {n8 n20}
    bandwidth 0
}

link l22 {
    nodes {n21 n20}
    bandwidth 0
}

link l23 {
    nodes {n22 n18}
    bandwidth 0
}

link l24 {
    nodes {n24 n19}
    bandwidth 0
}

link l25 {
    nodes {n25 n19}
    bandwidth 0
}

link l27 {
    nodes {n23 n22}
    bandwidth 0
}

link l28 {
    nodes {n27 n22}
    bandwidth 0
}

link l29 {
    nodes {n28 n14}
    bandwidth 0
}

link l4 {
    nodes {n11 n22}
    bandwidth 0
}

link l26 {
    nodes {n19 n26}
    bandwidth 0
}

annotation a1 {
    iconcoords {376 504 724 764}
    type oval
    label {DMZ}
    labelcolor black
    fontfamily {Arial}
    fontsize {16}
    color #CFCFFF
    width 0
    border black
    canvas c1
}

annotation a2 {
    iconcoords {767 61 1165 743}
    type rectangle
    label {Internal}
    labelcolor black
    fontfamily {Arial}
    fontsize {16}
    color #d1e6c1
    width 0
    border black
    rad 25
    canvas c1
}

annotation a3 {
    iconcoords {1022.0 24.0}
    type text
    label {SID: 33429472}
    labelcolor black
    fontfamily {Arial}
    fontsize {18}
    effects {bold}
    canvas c1
}

annotation a4 {
    type text
    iconcoords {73.0 719.0}
    label {}
    canvas c1
}

annotation a5 {
    iconcoords {599 390 716 503}
    type rectangle
    label {Firewall}
    labelcolor black
    fontfamily {Arial}
    fontsize {16}
    color #ffa300
    width 0
    border black
    rad 25
    canvas c1
}

annotation a6 {
    iconcoords {694.0 752.0}
    type text
    label {Talos}
    labelcolor black
    fontfamily {Arial}
    fontsize {24}
    effects {bold}
    canvas c1
}

annotation a7 {
    type text
    iconcoords {764.0 759.0}
    label {}
    canvas c1
}

annotation a9 {
    type text
    iconcoords {203.0 491.0}
    label {}
    canvas c1
}

annotation a10 {
    iconcoords {9 16 371 472}
    type rectangle
    label {}
    labelcolor black
    fontfamily {Arial}
    fontsize {12}
    color #c0e3ff
    width 0
    border black
    rad 25
    canvas c1
}

annotation a8 {
    iconcoords {36.0 442.0}
    type text
    label {Delos}
    labelcolor black
    fontfamily {Arial}
    fontsize {24}
    effects {bold}
    canvas c1
}

annotation a11 {
    type text
    iconcoords {99.0 431.0}
    label {}
    canvas c1
}

annotation a12 {
    iconcoords {581.0 99.0}
    type text
    label {global DNS}
    labelcolor black
    fontfamily {Arial}
    fontsize {12}
    canvas c1
}

annotation a13 {
    type text
    iconcoords {625.0 85.0}
    label {}
    canvas c1
}

canvas c1 {
    name {Canvas1}
    refpt {0 0 47.5791667 -122.132322 2.0}
    scale {150.0}
    size {1200 800}
}

option global {
    interface_names yes
    ip_addresses yes
    ipv6_addresses yes
    node_labels yes
    link_labels yes
    show_api no
    background_images no
    annotations yes
    grid yes
    traffic_start 0
}

option session {
}

